<section class="welcome">
  <button id="deleteAccountBtn" class="delete-account-btn">Удалить аккаунт</button>
  <div class="welcome-flex">
    <div class="dashboard-avatar-block">
      
      <form id="avatarUploadForm" enctype="multipart/form-data" method="POST" action="/api/avatar/upload">
        <div class="avatar-rect" style="position:relative;">
          <img id="avatarPreview" src="{{user.avatar_url}}" alt="Аватар" class="avatar-img" onerror="this.src='/images/default-avatar.png'">
          <span class="avatar-text">Кликните, чтобы загрузить аватар</span>
          <input
            type="file"
            id="avatarInput"
            name="image"
            accept="image/*"
            required
            style="opacity:0;position:absolute;left:0;top:0;width:100%;height:100%;z-index:2;cursor:pointer;"
          >
        </div>
      </form>




    </div>
    <div class="welcome-info">
      <h2 class="welcome-title">Личный кабинет 
        <span id="editProfileBtn" class="edit-icon" title="Редактировать">
          <svg  viewBox="0 0 20 20" fill="none">
            <path d="M14.7 2.29a1 1 0 0 1 1.42 0l1.59 1.59a1 1 0 0 1 0 1.42l-9.17 9.17-2.83.71.71-2.83 9.17-9.17z" fill="#2c3e50"/>
            <path d="M3 17h14v2H3v-2z" fill="#007bff" opacity="0.2"/>
          </svg>
        </span>
   




<div class="profile-fields">
<div class="profile-row">
  <span class="profile-label">Логин:</span>
  <span class="profile-value" data-field="username">{{user.username}}</span>
</div>
<div class="profile-row">
  <span class="profile-label">Псевдоним:</span>
  <span class="profile-value" data-field="display_name">
    {{#if user.display_name}}
      {{user.display_name}}
    {{else}}
      <span class="profile-note">Не указан</span>
    {{/if}}
  </span>
</div>
<div class="profile-row">
  <span class="profile-label">Email:</span>
  <span class="profile-value" data-field="email">{{user.email}}</span>
</div>
<div class="profile-row">
  <span class="profile-label">О себе:</span>
  <span class="profile-value" data-field="bio">{{user.bio}}</span>
</div>
</div>










      {{!-- Здесь другие данные о пользователе --}}
    </div>
     {{!-- <div class="dashboard-actions">
    <button id="EditBtn" class="button secondary">Изменить</button>
    </div> --}}
  </div>
</section>

{{!-- Модальное окно для удаления аккаунта: --}}
<div id="modalOverlay" class="modal-overlay" style="display:none;">
  <div class="modal">
    <h3>Удалить аккаунт?</h3>
    <p>Вы уверены, что хотите удалить аккаунт? Это действие необратимо!</p>
    <div class="modal-actions">
      <button id="modalCancel" class="button secondary">Отмена</button>
      <button id="modalConfirm" class="button danger">Удалить</button>
    </div>
  </div>
</div>




<div id="editProfileModal" class="modal-overlay" style="display:none;">
  <div class="modal">
     <button type="button" class="modal-close" id="closeEditProfile" aria-label="Закрыть">&times;</button>
   
    <h3>Редактировать профиль</h3>
    <form id="editProfileForm">
     <div class="form-group">
  <label for="displayNameInput">Псевдоним:</label>
  <input type="text" id="displayNameInput" name="display_name" value="{{user.display_name}}">
  <span class="error-text" id="errorDisplayName"></span>
</div>
<div class="form-group">
  <label for="emailInput">Email:</label>
  <input type="email" id="emailInput" name="email" value="{{user.email}}">
  <span class="profile-note"><em>Изменение потребует подтверждения</em></span>
  <span class="error-text" id="errorEmail"></span>
</div>
<div class="form-group">
  <label for="bioInput">О себе:</label>
  <textarea id="bioInput" name="bio" rows="4">{{user.bio}}</textarea>
  <span class="error-text" id="errorBio"></span>
</div>
<hr style="margin:18px 0;">
<div class="form-group">
  <label for="newPasswordInput">Новый пароль:</label>
  <input type="password" id="newPasswordInput" name="new_password" autocomplete="new-password">
  <span class="error-text" id="errorNewPassword"></span>
</div>
<div class="form-group">
  <label for="repeatPasswordInput">Повторите новый пароль:</label>
  <input type="password" id="repeatPasswordInput" name="repeat_password" autocomplete="new-password">
  <span class="error-text" id="errorRepeatPassword"></span>
</div>
      <div class="modal-actions">
        <button type="button" id="cancelEditProfile" class="button secondary">Отмена</button>
        <button type="submit" class="button">Сохранить</button>
      </div>
    </form>
  </div>
</div>

{{#section 'scripts'}}
<script src="/js/avatar-upload.js"></script>
<script src="/js/account.js"></script>
{{/section}}